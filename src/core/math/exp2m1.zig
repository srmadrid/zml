const std = @import("std");
const types = @import("../types.zig");
const math = @import("../math.zig");
const EnsureFloat = types.EnsureFloat;
const cast = types.cast;

pub fn exp2m1(x: anytype) EnsureFloat(@TypeOf(x)) {
    comptime if (!types.isFixedPrecision(@TypeOf(x)) or types.isComplex(@TypeOf(x)))
        @compileError("x must be an int or float");

    switch (types.numericType(@TypeOf(x))) {
        .int => {
            return exp2m1(cast(EnsureFloat(@TypeOf(x)), x, .{}));
        },
        .float => {
            if (x >= -1 and x <= 1) {
                const ret: @TypeOf(x) = math.expm1(std.math.ln2 * x);

                if (math.abs(ret) < std.math.floatMin(@TypeOf(x))) {
                    const vret: @TypeOf(x) = ret * ret;
                    std.mem.doNotOptimizeAway(vret);
                }

                return ret;
            } else if (x > std.math.floatMantissaBits(@TypeOf(x)) + 2) {
                const ret: @TypeOf(x) = math.exp2(x);
                return ret;
            } else if (x < -std.math.floatMantissaBits(@TypeOf(x)) - 2) {
                return -1;
            } else {
                return math.exp2(x) - 1;
            }
        },
        else => unreachable,
    }
}

test exp2m1 {
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f32, -0x0p+0)));
    try std.testing.expectEqual(0x1p+0, exp2m1(@as(f32, 0x1p+0)));
    try std.testing.expectEqual(0xa.e89fap-4, exp2m1(@as(f32, 0xcp-4)));
    try std.testing.expectEqual(0x3p+0, exp2m1(@as(f32, 0x2p+0)));
    try std.testing.expectEqual(0x7p+0, exp2m1(@as(f32, 0x3p+0)));
    try std.testing.expectEqual(0xfp+0, exp2m1(@as(f32, 0x4p+0)));
    try std.testing.expectEqual(0x1.fp+4, exp2m1(@as(f32, 0x5p+0)));
    try std.testing.expectEqual(0x3.ffp+8, exp2m1(@as(f32, 0xap+0)));
    try std.testing.expectEqual(0x7.fffp+12, exp2m1(@as(f32, 0xfp+0)));
    try std.testing.expectEqual(0xf.ffffp+16, exp2m1(@as(f32, 0x1.4p+4)));
    try std.testing.expectEqual(0x2p+24, exp2m1(@as(f32, 0x1.9p+4)));
    try std.testing.expectEqual(0x4p+28, exp2m1(@as(f32, 0x1.ep+4)));
    try std.testing.expectEqual(0x8p+32, exp2m1(@as(f32, 0x2.3p+4)));
    try std.testing.expectEqual(0x1p+40, exp2m1(@as(f32, 0x2.8p+4)));
    try std.testing.expectEqual(0x4p+48, exp2m1(@as(f32, 0x3.2p+4)));
    try std.testing.expectEqual(0x1p+60, exp2m1(@as(f32, 0x3.cp+4)));
    try std.testing.expectEqual(0x4p+68, exp2m1(@as(f32, 0x4.6p+4)));
    try std.testing.expectEqual(0x1p+80, exp2m1(@as(f32, 0x5p+4)));
    try std.testing.expectEqual(0x4p+88, exp2m1(@as(f32, 0x5.ap+4)));
    try std.testing.expectEqual(0x1p+100, exp2m1(@as(f32, 0x6.4p+4)));
    try std.testing.expectEqual(0x8p+124, exp2m1(@as(f32, 0x7.fp+4)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x1.f4p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x2.c5c4p+12)));
    try std.testing.expectEqual(-0xf.fcp-4, exp2m1(@as(f32, -0xap+0)));
    try std.testing.expectEqual(-0xf.fffp-4, exp2m1(@as(f32, -0x1p+4)));
    try std.testing.expectEqual(-0xf.fff8p-4, exp2m1(@as(f32, -0x1.1p+4)));
    try std.testing.expectEqual(-0xf.fffcp-4, exp2m1(@as(f32, -0x1.2p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.4p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.5p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.6p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.cp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.dp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x4.9p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x4.ap+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x4.bp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x4.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x4.fp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x5p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x6.4p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x3.e8p+8)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x2.71p+12)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0xf.fffffp+124)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f32, -0xf.fffffp+124)));
    try std.testing.expectEqual(0x3.06fe0cp-4, exp2m1(@as(f32, 0x4p-4)));
    try std.testing.expectEqual(-0x2.8bb034p-4, exp2m1(@as(f32, -0x4p-4)));
    try std.testing.expectEqual(0x2.c605e4p-12, exp2m1(@as(f32, 0x4p-12)));
    try std.testing.expectEqual(-0x2.c58ae4p-12, exp2m1(@as(f32, -0x4p-12)));
    try std.testing.expectEqual(0xb.1721cp-24, exp2m1(@as(f32, 0x1p-20)));
    try std.testing.expectEqual(-0xb.17214p-24, exp2m1(@as(f32, -0x1p-20)));
    try std.testing.expectEqual(0x5.8b90cp-32, exp2m1(@as(f32, 0x8p-32)));
    try std.testing.expectEqual(-0x5.8b90cp-32, exp2m1(@as(f32, -0x8p-32)));
    try std.testing.expectEqual(0xb.17218p-36, exp2m1(@as(f32, 0x1p-32)));
    try std.testing.expectEqual(-0xb.17218p-36, exp2m1(@as(f32, -0x1p-32)));
    try std.testing.expectEqual(0x2.c5c86p-52, exp2m1(@as(f32, 0x4p-52)));
    try std.testing.expectEqual(-0x2.c5c86p-52, exp2m1(@as(f32, -0x4p-52)));
    try std.testing.expectEqual(0xb.17218p-68, exp2m1(@as(f32, 0x1p-64)));
    try std.testing.expectEqual(-0xb.17218p-68, exp2m1(@as(f32, -0x1p-64)));
    try std.testing.expectEqual(0xb.17218p-104, exp2m1(@as(f32, 0x1p-100)));
    try std.testing.expectEqual(-0xb.17218p-104, exp2m1(@as(f32, -0x1p-100)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f32, -0x0p+0)));
    try std.testing.expectEqual(-0x8p-152, exp2m1(@as(f32, -0x8p-152)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f32, -0x0p+0)));
    try std.testing.expectEqual(-0x8p-152, exp2m1(@as(f32, -0x8p-152)));
    try std.testing.expectEqual(0x9.e184ap-60, exp2m1(@as(f32, 0xe.4152bp-60)));
    try std.testing.expectEqual(0x9.e1849p-60, exp2m1(@as(f32, 0xe.4152ap-60)));
    try std.testing.expectEqual(0x5.1c58cp-4, exp2m1(@as(f32, 0x6.660248p-4)));
    // try std.testing.expectEqual(0x5.1c58b8p-4, exp2m1(@as(f32, 0x6.66024p-4)));
    // try std.testing.expectEqual(0x4.e47a98p-4, exp2m1(@as(f32, 0x6.289a78p-4)));
    // try std.testing.expectEqual(0x4.d873f8p-4, exp2m1(@as(f32, 0x6.1b4d38p-4)));
    // try std.testing.expectEqual(0x4.d873f8p-4, exp2m1(@as(f32, 0x6.1b4d3p-4)));
    // try std.testing.expectEqual(0x4.bbdc1p-4, exp2m1(@as(f32, 0x5.fb8dc8p-4)));
    // try std.testing.expectEqual(0x4.bbdc08p-4, exp2m1(@as(f32, 0x5.fb8dcp-4)));
    try std.testing.expectEqual(0x2.947124p-4, exp2m1(@as(f32, 0x3.735f4cp-4)));
    try std.testing.expectEqual(0x2.94712p-4, exp2m1(@as(f32, 0x3.735f48p-4)));
    try std.testing.expectEqual(-0xf.ee1c4p-4, exp2m1(@as(f32, -0x7.d6c508p+0)));
    try std.testing.expectEqual(-0xf.ee1c4p-4, exp2m1(@as(f32, -0x7.d6c51p+0)));
    try std.testing.expectEqual(0x1.44c31p+72, exp2m1(@as(f32, 0x4.857de8p+4)));
    try std.testing.expectEqual(0x4.a31888p-4, exp2m1(@as(f32, 0x5.dfeb68p-4)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(0x4.5837a8p-4, exp2m1(@as(f32, 0x5.8b912p-4)));
    try std.testing.expectEqual(0x4.5837ap-4, exp2m1(@as(f32, 0x5.8b9118p-4)));
    // try std.testing.expectEqual(0x4.6d2568p-4, exp2m1(@as(f32, 0x5.a343ep-4)));
    try std.testing.expectEqual(0x4.6d256p-4, exp2m1(@as(f32, 0x5.a343d8p-4)));
    try std.testing.expectEqual(0x2.c5c86p-128, exp2m1(@as(f32, 0x4p-128)));
    try std.testing.expectEqual(-0x2.c5c86p-128, exp2m1(@as(f32, -0x4p-128)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(-0x8p-152, exp2m1(@as(f32, -0x8p-152)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x8p+4)));
    try std.testing.expectEqual(0xf.fffa7p+124, exp2m1(@as(f32, 0x7.fffff8p+4)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x8.00001p+4)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x3.fffffcp+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4.000008p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x3.fffffcp+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x3.fffffcp+8)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x3.fffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x3.fffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f32), exp2m1(@as(f32, 0x4p+12)));
    try std.testing.expectEqual(0x5.8b90cp-128, exp2m1(@as(f32, 0x8p-128)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(0x8p-152, exp2m1(@as(f32, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f32, 0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90cp-128, exp2m1(@as(f32, -0x8p-128)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f32, -0x0p+0)));
    try std.testing.expectEqual(-0x8p-152, exp2m1(@as(f32, -0x8p-152)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f32, -0x0p+0)));
    try std.testing.expectEqual(-0x8p-152, exp2m1(@as(f32, -0x8p-152)));
    // try std.testing.expectEqual(0xb.f946ap-4, exp2m1(@as(f32, 0xc.e5614p-4)));
    try std.testing.expectEqual(-0x1.ffff2p-16, exp2m1(@as(f32, -0x2.e2aa8cp-16)));
    // try std.testing.expectEqual(0xf.fffffp-4, exp2m1(@as(f32, 0xf.fffffp-4)));
    // try std.testing.expectEqual(-0xf.fffffp-12, exp2m1(@as(f32, -0x1.720d9ap-8)));
    // try std.testing.expectEqual(0xd.ff7cep-4, exp2m1(@as(f32, 0xe.823adp-4)));
    try std.testing.expectEqual(0xd.ff7cdp-4, exp2m1(@as(f32, 0xe.823acp-4)));
    try std.testing.expectEqual(0xf.ffa48p-4, exp2m1(@as(f32, 0xf.ffbep-4)));
    // try std.testing.expectEqual(0xf.ffa47p-4, exp2m1(@as(f32, 0xf.ffbdfp-4)));
    try std.testing.expectEqual(-0xf.ffd1ep-16, exp2m1(@as(f32, -0x1.715bd8p-12)));
    // try std.testing.expectEqual(-0xf.ffd1fp-16, exp2m1(@as(f32, -0x1.715bdap-12)));
    // try std.testing.expectEqual(0xf.fffcdp-4, exp2m1(@as(f32, 0xf.fffdbp-4)));
    // try std.testing.expectEqual(0xf.fffcbp-4, exp2m1(@as(f32, 0xf.fffdap-4)));
    try std.testing.expectEqual(0x7.fbd6ap-4, exp2m1(@as(f32, 0x9.5800ap-4)));
    // try std.testing.expectEqual(0x7.fbd69p-4, exp2m1(@as(f32, 0x9.58009p-4)));
    try std.testing.expectEqual(-0xf.ffb54p-16, exp2m1(@as(f32, -0x1.715944p-12)));
    try std.testing.expectEqual(-0xf.ffb56p-16, exp2m1(@as(f32, -0x1.715946p-12)));
    // try std.testing.expectEqual(0x7.fe3bb8p-4, exp2m1(@as(f32, 0x9.5a4e9p-4)));
    try std.testing.expectEqual(0x7.fe3ba8p-4, exp2m1(@as(f32, 0x9.5a4e8p-4)));
    // try std.testing.expectEqual(0x7.e1184p-4, exp2m1(@as(f32, 0x9.3e34fp-4)));
    try std.testing.expectEqual(0x7.e1183p-4, exp2m1(@as(f32, 0x9.3e34ep-4)));
    try std.testing.expectEqual(0x7.d9fc58p-4, exp2m1(@as(f32, 0x9.3754bp-4)));
    // try std.testing.expectEqual(0x7.d9fc48p-4, exp2m1(@as(f32, 0x9.3754ap-4)));
    try std.testing.expectEqual(-0xf.f8215p-12, exp2m1(@as(f32, -0x1.71573cp-8)));
    // try std.testing.expectEqual(-0xf.f8216p-12, exp2m1(@as(f32, -0x1.71573ep-8)));
    // try std.testing.expectEqual(0x7.e00148p-4, exp2m1(@as(f32, 0x9.3d274p-4)));
    try std.testing.expectEqual(0x7.e00138p-4, exp2m1(@as(f32, 0x9.3d273p-4)));
    try std.testing.expectEqual(0x7.9f8b08p-4, exp2m1(@as(f32, 0x8.fe7fap-4)));
    try std.testing.expectEqual(0x7.9f8af8p-4, exp2m1(@as(f32, 0x8.fe7f9p-4)));
    // try std.testing.expectEqual(0x7.b3a13p-4, exp2m1(@as(f32, 0x9.1217ep-4)));
    try std.testing.expectEqual(0x7.b3a12p-4, exp2m1(@as(f32, 0x9.1217dp-4)));
    try std.testing.expectEqual(0x7.2051ap-4, exp2m1(@as(f32, 0x8.80db5p-4)));
    try std.testing.expectEqual(0x7.20519p-4, exp2m1(@as(f32, 0x8.80db4p-4)));
    try std.testing.expectEqual(0x7.26a87p-4, exp2m1(@as(f32, 0x8.872e4p-4)));
    // try std.testing.expectEqual(0x7.26a86p-4, exp2m1(@as(f32, 0x8.872e3p-4)));
    // try std.testing.expectEqual(0x7.b2392p-4, exp2m1(@as(f32, 0x9.10b93p-4)));
    try std.testing.expectEqual(0x7.b2391p-4, exp2m1(@as(f32, 0x9.10b92p-4)));

    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f64, -0x0p+0)));
    try std.testing.expectEqual(0x1p+0, exp2m1(@as(f64, 0x1p+0)));
    // try std.testing.expectEqual(0xa.e89f995ad3ad8p-4, exp2m1(@as(f64, 0xcp-4)));
    try std.testing.expectEqual(0x3p+0, exp2m1(@as(f64, 0x2p+0)));
    try std.testing.expectEqual(0x7p+0, exp2m1(@as(f64, 0x3p+0)));
    try std.testing.expectEqual(0xfp+0, exp2m1(@as(f64, 0x4p+0)));
    try std.testing.expectEqual(0x1.fp+4, exp2m1(@as(f64, 0x5p+0)));
    try std.testing.expectEqual(0x3.ffp+8, exp2m1(@as(f64, 0xap+0)));
    try std.testing.expectEqual(0x7.fffp+12, exp2m1(@as(f64, 0xfp+0)));
    try std.testing.expectEqual(0xf.ffffp+16, exp2m1(@as(f64, 0x1.4p+4)));
    try std.testing.expectEqual(0x1.ffffffp+24, exp2m1(@as(f64, 0x1.9p+4)));
    try std.testing.expectEqual(0x3.fffffffp+28, exp2m1(@as(f64, 0x1.ep+4)));
    try std.testing.expectEqual(0x7.ffffffffp+32, exp2m1(@as(f64, 0x2.3p+4)));
    try std.testing.expectEqual(0xf.fffffffffp+36, exp2m1(@as(f64, 0x2.8p+4)));
    try std.testing.expectEqual(0x3.ffffffffffffp+48, exp2m1(@as(f64, 0x3.2p+4)));
    try std.testing.expectEqual(0x1p+60, exp2m1(@as(f64, 0x3.cp+4)));
    try std.testing.expectEqual(0x4p+68, exp2m1(@as(f64, 0x4.6p+4)));
    try std.testing.expectEqual(0x1p+80, exp2m1(@as(f64, 0x5p+4)));
    try std.testing.expectEqual(0x4p+88, exp2m1(@as(f64, 0x5.ap+4)));
    try std.testing.expectEqual(0x1p+100, exp2m1(@as(f64, 0x6.4p+4)));
    try std.testing.expectEqual(0x8p+124, exp2m1(@as(f64, 0x7.fp+4)));
    try std.testing.expectEqual(0x1p+500, exp2m1(@as(f64, 0x1.f4p+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x2.c5c4p+12)));
    try std.testing.expectEqual(-0xf.fcp-4, exp2m1(@as(f64, -0xap+0)));
    try std.testing.expectEqual(-0xf.fffp-4, exp2m1(@as(f64, -0x1p+4)));
    try std.testing.expectEqual(-0xf.fff8p-4, exp2m1(@as(f64, -0x1.1p+4)));
    try std.testing.expectEqual(-0xf.fffcp-4, exp2m1(@as(f64, -0x1.2p+4)));
    try std.testing.expectEqual(-0xf.ffffffffp-4, exp2m1(@as(f64, -0x2.4p+4)));
    try std.testing.expectEqual(-0xf.ffffffff8p-4, exp2m1(@as(f64, -0x2.5p+4)));
    try std.testing.expectEqual(-0xf.ffffffffcp-4, exp2m1(@as(f64, -0x2.6p+4)));
    try std.testing.expectEqual(-0xf.ffffffffffp-4, exp2m1(@as(f64, -0x2.cp+4)));
    try std.testing.expectEqual(-0xf.ffffffffff8p-4, exp2m1(@as(f64, -0x2.dp+4)));
    try std.testing.expectEqual(-0xf.ffffffffffcp-4, exp2m1(@as(f64, -0x2.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x4.9p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x4.ap+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x4.bp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x4.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x4.fp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x5p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x6.4p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x3.e8p+8)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x2.71p+12)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0xf.fffffp+124)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0xf.fffffp+124)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f64, -0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(0x3.06fe0a31b7152p-4, exp2m1(@as(f64, 0x4p-4)));
    // try std.testing.expectEqual(-0x2.8bb0335296296p-4, exp2m1(@as(f64, -0x4p-4)));
    try std.testing.expectEqual(0x2.c605e2e8cec5p-12, exp2m1(@as(f64, 0x4p-12)));
    try std.testing.expectEqual(-0x2.c58ae3f081ef4p-12, exp2m1(@as(f64, -0x4p-12)));
    try std.testing.expectEqual(0xb.1721bcfc99dap-24, exp2m1(@as(f64, 0x1p-20)));
    try std.testing.expectEqual(-0xb.172141fda1dcp-24, exp2m1(@as(f64, -0x1p-20)));
    try std.testing.expectEqual(0x5.8b90bfcdee5acp-32, exp2m1(@as(f64, 0x8p-32)));
    try std.testing.expectEqual(-0x5.8b90bfaf2e9ccp-32, exp2m1(@as(f64, -0x8p-32)));
    // try std.testing.expectEqual(0xb.17217f80f4ef8p-36, exp2m1(@as(f64, 0x1p-32)));
    try std.testing.expectEqual(-0xb.17217f7945p-36, exp2m1(@as(f64, -0x1p-32)));
    try std.testing.expectEqual(0x2.c5c85fdf473e2p-52, exp2m1(@as(f64, 0x4p-52)));
    try std.testing.expectEqual(-0x2.c5c85fdf473dap-52, exp2m1(@as(f64, -0x4p-52)));
    try std.testing.expectEqual(0xb.17217f7d1cf78p-68, exp2m1(@as(f64, 0x1p-64)));
    try std.testing.expectEqual(-0xb.17217f7d1cf78p-68, exp2m1(@as(f64, -0x1p-64)));
    try std.testing.expectEqual(0xb.17217f7d1cf78p-104, exp2m1(@as(f64, 0x1p-100)));
    try std.testing.expectEqual(-0xb.17217f7d1cf78p-104, exp2m1(@as(f64, -0x1p-100)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(0xb.17217f7d1cf78p-604, exp2m1(@as(f64, 0x1p-600)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f64, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, -0x8p-152)));
    try std.testing.expectEqual(-0xb.17217f7d1cf78p-604, exp2m1(@as(f64, -0x1p-600)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(0x4p-1076, exp2m1(@as(f64, 0x4p-1076)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f64, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, -0x8p-152)));
    try std.testing.expectEqual(-0x4p-1076, exp2m1(@as(f64, -0x4p-1076)));
    try std.testing.expectEqual(0x9.e184982d837ap-60, exp2m1(@as(f64, 0xe.4152bp-60)));
    try std.testing.expectEqual(0x9.e1848d1661fa8p-60, exp2m1(@as(f64, 0xe.4152ap-60)));
    try std.testing.expectEqual(0x9.e18495a4970ep-60, exp2m1(@as(f64, 0xe.4152ac57cd1fp-60)));
    try std.testing.expectEqual(0x9.e18495a4970d8p-60, exp2m1(@as(f64, 0xe.4152ac57cd1e8p-60)));
    // try std.testing.expectEqual(0x5.1c58c29907bb8p-4, exp2m1(@as(f64, 0x6.660248p-4)));
    // try std.testing.expectEqual(0x5.1c58bb4806c0cp-4, exp2m1(@as(f64, 0x6.66024p-4)));
    try std.testing.expectEqual(0x5.1c58c1f1226f8p-4, exp2m1(@as(f64, 0x6.660247486aed8p-4)));
    // try std.testing.expectEqual(0x4.e47a9a1fd6364p-4, exp2m1(@as(f64, 0x6.289a78p-4)));
    try std.testing.expectEqual(0x4.d873fb629a288p-4, exp2m1(@as(f64, 0x6.1b4d38p-4)));
    // try std.testing.expectEqual(0x4.d873f42920e5cp-4, exp2m1(@as(f64, 0x6.1b4d3p-4)));
    // try std.testing.expectEqual(0x4.d873f585e952cp-4, exp2m1(@as(f64, 0x6.1b4d318238d4cp-4)));
    try std.testing.expectEqual(0x4.d873f585e9528p-4, exp2m1(@as(f64, 0x6.1b4d318238d48p-4)));
    // try std.testing.expectEqual(0x4.bbdc12729d2fp-4, exp2m1(@as(f64, 0x5.fb8dc8p-4)));
    try std.testing.expectEqual(0x4.bbdc0b430ccf8p-4, exp2m1(@as(f64, 0x5.fb8dcp-4)));
    // try std.testing.expectEqual(0x4.bbdc10ed4babp-4, exp2m1(@as(f64, 0x5.fb8dc64e91a74p-4)));
    try std.testing.expectEqual(0x2.9471234f821e8p-4, exp2m1(@as(f64, 0x3.735f4cp-4)));
    // try std.testing.expectEqual(0x2.94712017479a8p-4, exp2m1(@as(f64, 0x3.735f48p-4)));
    // try std.testing.expectEqual(0x2.94712149646d2p-4, exp2m1(@as(f64, 0x3.735f497c4e676p-4)));
    try std.testing.expectEqual(0x2.94712149646dp-4, exp2m1(@as(f64, 0x3.735f497c4e674p-4)));
    try std.testing.expectEqual(-0xf.ee1c3da279aap-4, exp2m1(@as(f64, -0x7.d6c508p+0)));
    try std.testing.expectEqual(-0xf.ee1c3e05ad3c8p-4, exp2m1(@as(f64, -0x7.d6c51p+0)));
    try std.testing.expectEqual(-0xf.ee1c3dcb18a28p-4, exp2m1(@as(f64, -0x7.d6c50b469d404p+0)));
    try std.testing.expectEqual(0x1.44c30f9342876p+72, exp2m1(@as(f64, 0x4.857de8p+4)));
    // try std.testing.expectEqual(0x4.a3188776d0e08p-4, exp2m1(@as(f64, 0x5.dfeb68p-4)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(0x4p-1076, exp2m1(@as(f64, 0x4p-1076)));
    try std.testing.expectEqual(0x4.5837a61265194p-4, exp2m1(@as(f64, 0x5.8b912p-4)));
    try std.testing.expectEqual(0x4.58379f055d458p-4, exp2m1(@as(f64, 0x5.8b9118p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fcp-4, exp2m1(@as(f64, 0x5.8b911eb673348p-4)));
    // try std.testing.expectEqual(0x4.5837a4eff11fcp-4, exp2m1(@as(f64, 0x5.8b911eb673344p-4)));
    try std.testing.expectEqual(0x4.6d25642996aep-4, exp2m1(@as(f64, 0x5.a343ep-4)));
    try std.testing.expectEqual(0x4.6d255d154ep-4, exp2m1(@as(f64, 0x5.a343d8p-4)));
    // try std.testing.expectEqual(0x4.6d256352ea968p-4, exp2m1(@as(f64, 0x5.a343df0d6800cp-4)));
    // try std.testing.expectEqual(0x4.6d256352ea968p-4, exp2m1(@as(f64, 0x5.a343df0d68008p-4)));
    try std.testing.expectEqual(0x2.c5c85fdf473dep-128, exp2m1(@as(f64, 0x4p-128)));
    try std.testing.expectEqual(0x2.c5c85fdf473ep-1024, exp2m1(@as(f64, 0x4p-1024)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-972, exp2m1(@as(f64, 0x8p-972)));
    try std.testing.expectEqual(-0x2.c5c85fdf473dep-128, exp2m1(@as(f64, -0x4p-128)));
    try std.testing.expectEqual(-0x2.c5c85fdf473ep-1024, exp2m1(@as(f64, -0x4p-1024)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-972, exp2m1(@as(f64, -0x8p-972)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x4p-1076, exp2m1(@as(f64, 0x4p-1076)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, -0x8p-152)));
    try std.testing.expectEqual(-0x4p-1076, exp2m1(@as(f64, -0x4p-1076)));
    try std.testing.expectEqual(0x1p+128, exp2m1(@as(f64, 0x8p+4)));
    try std.testing.expectEqual(0xf.fffa7470363f8p+124, exp2m1(@as(f64, 0x7.fffff8p+4)));
    try std.testing.expectEqual(0x1.0000b17255776p+128, exp2m1(@as(f64, 0x8.00001p+4)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814e8p+1020, exp2m1(@as(f64, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9dp+1020, exp2m1(@as(f64, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.000008p+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.0000000000004p+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814e8p+1020, exp2m1(@as(f64, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9dp+1020, exp2m1(@as(f64, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814e8p+1020, exp2m1(@as(f64, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9dp+1020, exp2m1(@as(f64, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x3.fffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x3.fffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f64), exp2m1(@as(f64, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-128, exp2m1(@as(f64, 0x8p-128)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-1024, exp2m1(@as(f64, 0x8p-1024)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f64, 0x0p+0)));
    try std.testing.expectEqual(0x4p-1076, exp2m1(@as(f64, 0x4p-1076)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-128, exp2m1(@as(f64, -0x8p-128)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f64, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, -0x8p-152)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-1024, exp2m1(@as(f64, -0x8p-1024)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f64, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcp-152, exp2m1(@as(f64, -0x8p-152)));
    try std.testing.expectEqual(-0x4p-1076, exp2m1(@as(f64, -0x4p-1076)));
    // try std.testing.expectEqual(0xb.f946a591567c8p-4, exp2m1(@as(f64, 0xc.e5614p-4)));
    try std.testing.expectEqual(-0x1.ffff1fe5d00ddp-16, exp2m1(@as(f64, -0x2.e2aa8cp-16)));
    try std.testing.expectEqual(0xf.ffffe9d1bd088p-4, exp2m1(@as(f64, 0xf.fffffp-4)));
    // try std.testing.expectEqual(-0xf.ffffe99e60cb8p-12, exp2m1(@as(f64, -0x1.720d9ap-8)));
    try std.testing.expectEqual(0xd.ff7cde638771p-4, exp2m1(@as(f64, 0xe.823adp-4)));
    try std.testing.expectEqual(0xd.ff7cc998838ep-4, exp2m1(@as(f64, 0xe.823acp-4)));
    // try std.testing.expectEqual(0xd.ff7ccbf7ea3ep-4, exp2m1(@as(f64, 0xe.823ac1d36368p-4)));
    try std.testing.expectEqual(0xf.ffa481ae71628p-4, exp2m1(@as(f64, 0xf.ffbep-4)));
    try std.testing.expectEqual(0xf.ffa46b806dd6p-4, exp2m1(@as(f64, 0xf.ffbdfp-4)));
    try std.testing.expectEqual(0xf.ffa4720873478p-4, exp2m1(@as(f64, 0xf.ffbdf4b6293bp-4)));
    try std.testing.expectEqual(-0xf.ffd1dabcd4a5p-16, exp2m1(@as(f64, -0x1.715bd8p-12)));
    // try std.testing.expectEqual(-0xf.ffd1f0e9b4c38p-16, exp2m1(@as(f64, -0x1.715bdap-12)));
    try std.testing.expectEqual(-0xf.ffd1de9143f4p-16, exp2m1(@as(f64, -0x1.715bd8586d057p-12)));
    try std.testing.expectEqual(0xf.fffccb507a418p-4, exp2m1(@as(f64, 0xf.fffdbp-4)));
    try std.testing.expectEqual(0xf.fffcb5223983p-4, exp2m1(@as(f64, 0xf.fffdap-4)));
    try std.testing.expectEqual(0xf.fffcc8d3e28c8p-4, exp2m1(@as(f64, 0xf.fffdae34cb78p-4)));
    try std.testing.expectEqual(0x7.fbd6a1e924c7p-4, exp2m1(@as(f64, 0x9.5800ap-4)));
    try std.testing.expectEqual(0x7.fbd6914955028p-4, exp2m1(@as(f64, 0x9.58009p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc364p-4, exp2m1(@as(f64, 0x9.58009dd25961p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc35cp-4, exp2m1(@as(f64, 0x9.58009dd259608p-4)));
    try std.testing.expectEqual(-0xf.ffb544e3eb5cp-16, exp2m1(@as(f64, -0x1.715944p-12)));
    // try std.testing.expectEqual(-0xf.ffb55b10cb7d8p-16, exp2m1(@as(f64, -0x1.715946p-12)));
    // try std.testing.expectEqual(-0xf.ffb55350f7048p-16, exp2m1(@as(f64, -0x1.7159454d13d4ep-12)));
    try std.testing.expectEqual(-0xf.ffb55350f705p-16, exp2m1(@as(f64, -0x1.7159454d13d4fp-12)));
    // try std.testing.expectEqual(0x7.fe3bb4f14c08cp-4, exp2m1(@as(f64, 0x9.5a4e9p-4)));
    // try std.testing.expectEqual(0x7.fe3ba44fd350cp-4, exp2m1(@as(f64, 0x9.5a4e8p-4)));
    // try std.testing.expectEqual(0x7.fe3ba6b85715cp-4, exp2m1(@as(f64, 0x9.5a4e825121e58p-4)));
    try std.testing.expectEqual(0x7.fe3ba6b857154p-4, exp2m1(@as(f64, 0x9.5a4e825121e5p-4)));
    // try std.testing.expectEqual(0x7.e1183f0069974p-4, exp2m1(@as(f64, 0x9.3e34fp-4)));
    // try std.testing.expectEqual(0x7.e1182e7323604p-4, exp2m1(@as(f64, 0x9.3e34ep-4)));
    // try std.testing.expectEqual(0x7.e118365568734p-4, exp2m1(@as(f64, 0x9.3e34e79efaa2p-4)));
    // try std.testing.expectEqual(0x7.e11836556872cp-4, exp2m1(@as(f64, 0x9.3e34e79efaa18p-4)));
    // try std.testing.expectEqual(0x7.d9fc57b8e5e84p-4, exp2m1(@as(f64, 0x9.3754bp-4)));
    // try std.testing.expectEqual(0x7.d9fc47308d274p-4, exp2m1(@as(f64, 0x9.3754ap-4)));
    try std.testing.expectEqual(0x7.d9fc4d9af8788p-4, exp2m1(@as(f64, 0x9.3754a635821p-4)));
    try std.testing.expectEqual(0x7.d9fc4d9af878p-4, exp2m1(@as(f64, 0x9.3754a635820f8p-4)));
    try std.testing.expectEqual(-0xf.f82149e2517d8p-12, exp2m1(@as(f64, -0x1.71573cp-8)));
    // try std.testing.expectEqual(-0xf.f8215ffa71228p-12, exp2m1(@as(f64, -0x1.71573ep-8)));
    // try std.testing.expectEqual(-0xf.f8215df6b79a8p-12, exp2m1(@as(f64, -0x1.71573dd150de9p-8)));
    try std.testing.expectEqual(-0xf.f8215df6b79bp-12, exp2m1(@as(f64, -0x1.71573dd150deap-8)));
    // try std.testing.expectEqual(0x7.e001481f3263cp-4, exp2m1(@as(f64, 0x9.3d274p-4)));
    // try std.testing.expectEqual(0x7.e0013792ad8ap-4, exp2m1(@as(f64, 0x9.3d273p-4)));
    // try std.testing.expectEqual(0x7.e00137c8ba278p-4, exp2m1(@as(f64, 0x9.3d27303441adp-4)));
    // try std.testing.expectEqual(0x7.e00137c8ba27p-4, exp2m1(@as(f64, 0x9.3d27303441ac8p-4)));
    // try std.testing.expectEqual(0x7.9f8b08c74330cp-4, exp2m1(@as(f64, 0x8.fe7fap-4)));
    // try std.testing.expectEqual(0x7.9f8af8676cd34p-4, exp2m1(@as(f64, 0x8.fe7f9p-4)));
    try std.testing.expectEqual(0x7.9f8afa4bc753p-4, exp2m1(@as(f64, 0x8.fe7f91d947a2p-4)));
    try std.testing.expectEqual(0x7.9f8afa4bc7528p-4, exp2m1(@as(f64, 0x8.fe7f91d947a18p-4)));
    try std.testing.expectEqual(0x7.b3a12ca1e0334p-4, exp2m1(@as(f64, 0x9.1217ep-4)));
    // try std.testing.expectEqual(0x7.b3a11c341d934p-4, exp2m1(@as(f64, 0x9.1217dp-4)));
    try std.testing.expectEqual(0x7.b3a11d5c60bd8p-4, exp2m1(@as(f64, 0x9.1217d12087d78p-4)));
    try std.testing.expectEqual(0x7.b3a11d5c60bdp-4, exp2m1(@as(f64, 0x9.1217d12087d7p-4)));
    try std.testing.expectEqual(0x7.20519dbc87ff4p-4, exp2m1(@as(f64, 0x8.80db5p-4)));
    try std.testing.expectEqual(0x7.20518db4e1084p-4, exp2m1(@as(f64, 0x8.80db4p-4)));
    // try std.testing.expectEqual(0x7.205196e3a3794p-4, exp2m1(@as(f64, 0x8.80db492a6043p-4)));
    // try std.testing.expectEqual(0x7.205196e3a378cp-4, exp2m1(@as(f64, 0x8.80db492a60428p-4)));
    // try std.testing.expectEqual(0x7.26a872486f448p-4, exp2m1(@as(f64, 0x8.872e4p-4)));
    // try std.testing.expectEqual(0x7.26a8623c63714p-4, exp2m1(@as(f64, 0x8.872e3p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c8p-4, exp2m1(@as(f64, 0x8.872e307510a88p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3cp-4, exp2m1(@as(f64, 0x8.872e307510a8p-4)));
    try std.testing.expectEqual(0x7.b2392197a9c48p-4, exp2m1(@as(f64, 0x9.10b93p-4)));
    try std.testing.expectEqual(0x7.b239112ae0b48p-4, exp2m1(@as(f64, 0x9.10b92p-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6ecp-4, exp2m1(@as(f64, 0x9.10b9251f0ccap-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6e4p-4, exp2m1(@as(f64, 0x9.10b9251f0cc98p-4)));

    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f80, -0x0p+0)));
    try std.testing.expectEqual(0x1p+0, exp2m1(@as(f80, 0x1p+0)));
    // try std.testing.expectEqual(0xa.e89f995ad3ad5e8p-4, exp2m1(@as(f80, 0xcp-4)));
    try std.testing.expectEqual(0x3p+0, exp2m1(@as(f80, 0x2p+0)));
    try std.testing.expectEqual(0x7p+0, exp2m1(@as(f80, 0x3p+0)));
    try std.testing.expectEqual(0xfp+0, exp2m1(@as(f80, 0x4p+0)));
    try std.testing.expectEqual(0x1.fp+4, exp2m1(@as(f80, 0x5p+0)));
    try std.testing.expectEqual(0x3.ffp+8, exp2m1(@as(f80, 0xap+0)));
    try std.testing.expectEqual(0x7.fffp+12, exp2m1(@as(f80, 0xfp+0)));
    try std.testing.expectEqual(0xf.ffffp+16, exp2m1(@as(f80, 0x1.4p+4)));
    try std.testing.expectEqual(0x1.ffffffp+24, exp2m1(@as(f80, 0x1.9p+4)));
    try std.testing.expectEqual(0x3.fffffffp+28, exp2m1(@as(f80, 0x1.ep+4)));
    try std.testing.expectEqual(0x7.ffffffffp+32, exp2m1(@as(f80, 0x2.3p+4)));
    try std.testing.expectEqual(0xf.fffffffffp+36, exp2m1(@as(f80, 0x2.8p+4)));
    try std.testing.expectEqual(0x3.ffffffffffffp+48, exp2m1(@as(f80, 0x3.2p+4)));
    try std.testing.expectEqual(0xf.ffffffffffffffp+56, exp2m1(@as(f80, 0x3.cp+4)));
    try std.testing.expectEqual(0x4p+68, exp2m1(@as(f80, 0x4.6p+4)));
    try std.testing.expectEqual(0x1p+80, exp2m1(@as(f80, 0x5p+4)));
    try std.testing.expectEqual(0x4p+88, exp2m1(@as(f80, 0x5.ap+4)));
    try std.testing.expectEqual(0x1p+100, exp2m1(@as(f80, 0x6.4p+4)));
    try std.testing.expectEqual(0x8p+124, exp2m1(@as(f80, 0x7.fp+4)));
    try std.testing.expectEqual(0x1p+500, exp2m1(@as(f80, 0x1.f4p+8)));
    try std.testing.expectEqual(0x1.306fe0a31b7152dep+11356, exp2m1(@as(f80, 0x2.c5c4p+12)));
    try std.testing.expectEqual(-0xf.fcp-4, exp2m1(@as(f80, -0xap+0)));
    try std.testing.expectEqual(-0xf.fffp-4, exp2m1(@as(f80, -0x1p+4)));
    try std.testing.expectEqual(-0xf.fff8p-4, exp2m1(@as(f80, -0x1.1p+4)));
    try std.testing.expectEqual(-0xf.fffcp-4, exp2m1(@as(f80, -0x1.2p+4)));
    try std.testing.expectEqual(-0xf.ffffffffp-4, exp2m1(@as(f80, -0x2.4p+4)));
    try std.testing.expectEqual(-0xf.ffffffff8p-4, exp2m1(@as(f80, -0x2.5p+4)));
    try std.testing.expectEqual(-0xf.ffffffffcp-4, exp2m1(@as(f80, -0x2.6p+4)));
    try std.testing.expectEqual(-0xf.ffffffffffp-4, exp2m1(@as(f80, -0x2.cp+4)));
    try std.testing.expectEqual(-0xf.ffffffffff8p-4, exp2m1(@as(f80, -0x2.dp+4)));
    try std.testing.expectEqual(-0xf.ffffffffffcp-4, exp2m1(@as(f80, -0x2.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x4.9p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x4.ap+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x4.bp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x4.ep+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x4.fp+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x5p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x6.4p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x3.e8p+8)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x2.71p+12)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0xf.fffffp+124)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0xf.fffffffffffffffp+16380)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0xf.fffffp+124)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f80, -0xf.fffffffffffffffp+16380)));
    try std.testing.expectEqual(0x3.06fe0a31b7152de8p-4, exp2m1(@as(f80, 0x4p-4)));
    try std.testing.expectEqual(-0x2.8bb03352962950bcp-4, exp2m1(@as(f80, -0x4p-4)));
    try std.testing.expectEqual(0x2.c605e2e8cec506d4p-12, exp2m1(@as(f80, 0x4p-12)));
    try std.testing.expectEqual(-0x2.c58ae3f081ef42c4p-12, exp2m1(@as(f80, -0x4p-12)));
    try std.testing.expectEqual(0xb.1721bcfc99d9f89p-24, exp2m1(@as(f80, 0x1p-20)));
    // try std.testing.expectEqual(-0xb.172141fda1dbed7p-24, exp2m1(@as(f80, -0x1p-20)));
    try std.testing.expectEqual(0x5.8b90bfcdee5acd4p-32, exp2m1(@as(f80, 0x8p-32)));
    try std.testing.expectEqual(-0x5.8b90bfaf2e9ccdb8p-32, exp2m1(@as(f80, -0x8p-32)));
    try std.testing.expectEqual(0xb.17217f80f4ef5abp-36, exp2m1(@as(f80, 0x1p-32)));
    try std.testing.expectEqual(-0xb.17217f7944ffdadp-36, exp2m1(@as(f80, -0x1p-32)));
    try std.testing.expectEqual(0x2.c5c85fdf473e243p-52, exp2m1(@as(f80, 0x4p-52)));
    try std.testing.expectEqual(-0x2.c5c85fdf473da93p-52, exp2m1(@as(f80, -0x4p-52)));
    try std.testing.expectEqual(0xb.17217f7d1cf79acp-68, exp2m1(@as(f80, 0x1p-64)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79acp-68, exp2m1(@as(f80, -0x1p-64)));
    try std.testing.expectEqual(0xb.17217f7d1cf79acp-104, exp2m1(@as(f80, 0x1p-100)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79acp-104, exp2m1(@as(f80, -0x1p-100)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(0xb.17217f7d1cf79acp-604, exp2m1(@as(f80, 0x1p-600)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f80, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, -0x8p-152)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79acp-604, exp2m1(@as(f80, -0x1p-600)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, 0x4p-1076)));
    try std.testing.expectEqual(0xb.17217f7d1cf79acp-10004, exp2m1(@as(f80, 0x1p-10000)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f80, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, -0x4p-1076)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79acp-10004, exp2m1(@as(f80, -0x1p-10000)));
    try std.testing.expectEqual(0x9.e184982d8379ed1p-60, exp2m1(@as(f80, 0xe.4152bp-60)));
    try std.testing.expectEqual(0x9.e1848d1661fa6ffp-60, exp2m1(@as(f80, 0xe.4152ap-60)));
    try std.testing.expectEqual(0x9.e18495a4970e0dp-60, exp2m1(@as(f80, 0xe.4152ac57cd1fp-60)));
    // try std.testing.expectEqual(0x9.e18495a4970db44p-60, exp2m1(@as(f80, 0xe.4152ac57cd1e8p-60)));
    try std.testing.expectEqual(0x9.e18495a4970dcfcp-60, exp2m1(@as(f80, 0xe.4152ac57cd1ea7ap-60)));
    // try std.testing.expectEqual(0x5.1c58c29907bb82ep-4, exp2m1(@as(f80, 0x6.660248p-4)));
    // try std.testing.expectEqual(0x5.1c58bb4806c0c06p-4, exp2m1(@as(f80, 0x6.66024p-4)));
    try std.testing.expectEqual(0x5.1c58c1f1226f62bp-4, exp2m1(@as(f80, 0x6.660247486aed8p-4)));
    try std.testing.expectEqual(0x4.e47a9a1fd6364048p-4, exp2m1(@as(f80, 0x6.289a78p-4)));
    try std.testing.expectEqual(0x4.d873fb629a2875b8p-4, exp2m1(@as(f80, 0x6.1b4d38p-4)));
    // try std.testing.expectEqual(0x4.d873f42920e5ab8p-4, exp2m1(@as(f80, 0x6.1b4d3p-4)));
    try std.testing.expectEqual(0x4.d873f585e952c258p-4, exp2m1(@as(f80, 0x6.1b4d318238d4cp-4)));
    try std.testing.expectEqual(0x4.d873f585e9528888p-4, exp2m1(@as(f80, 0x6.1b4d318238d48p-4)));
    try std.testing.expectEqual(0x4.d873f585e952a7d8p-4, exp2m1(@as(f80, 0x6.1b4d318238d4a2a8p-4)));
    try std.testing.expectEqual(0x4.bbdc12729d2f1e8p-4, exp2m1(@as(f80, 0x5.fb8dc8p-4)));
    try std.testing.expectEqual(0x4.bbdc0b430ccf8308p-4, exp2m1(@as(f80, 0x5.fb8dcp-4)));
    // try std.testing.expectEqual(0x4.bbdc10ed4baaf9c8p-4, exp2m1(@as(f80, 0x5.fb8dc64e91a74p-4)));
    try std.testing.expectEqual(0x2.9471234f821e80f8p-4, exp2m1(@as(f80, 0x3.735f4cp-4)));
    try std.testing.expectEqual(0x2.94712017479a80ccp-4, exp2m1(@as(f80, 0x3.735f48p-4)));
    try std.testing.expectEqual(0x2.94712149646d1668p-4, exp2m1(@as(f80, 0x3.735f497c4e676p-4)));
    try std.testing.expectEqual(0x2.94712149646cfca4p-4, exp2m1(@as(f80, 0x3.735f497c4e674p-4)));
    try std.testing.expectEqual(0x2.94712149646d0c3cp-4, exp2m1(@as(f80, 0x3.735f497c4e67535cp-4)));
    try std.testing.expectEqual(-0xf.ee1c3da279a9dfp-4, exp2m1(@as(f80, -0x7.d6c508p+0)));
    try std.testing.expectEqual(-0xf.ee1c3e05ad3cabfp-4, exp2m1(@as(f80, -0x7.d6c51p+0)));
    try std.testing.expectEqual(-0xf.ee1c3dcb18a263bp-4, exp2m1(@as(f80, -0x7.d6c50b469d404p+0)));
    try std.testing.expectEqual(0x1.44c30f9342875918p+72, exp2m1(@as(f80, 0x4.857de8p+4)));
    try std.testing.expectEqual(0x4.a3188776d0e06148p-4, exp2m1(@as(f80, 0x5.dfeb68p-4)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, 0x4p-1076)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6c8p-16384, exp2m1(@as(f80, 0x4.0000000000000028p-16384)));
    // try std.testing.expectEqual(0x4.5837a61265195618p-4, exp2m1(@as(f80, 0x5.8b912p-4)));
    try std.testing.expectEqual(0x4.58379f055d457228p-4, exp2m1(@as(f80, 0x5.8b9118p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fdd7p-4, exp2m1(@as(f80, 0x5.8b911eb673348p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fa508p-4, exp2m1(@as(f80, 0x5.8b911eb673344p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fc9d8p-4, exp2m1(@as(f80, 0x5.8b911eb6733469c8p-4)));
    try std.testing.expectEqual(0x4.6d25642996ae0b3p-4, exp2m1(@as(f80, 0x5.a343ep-4)));
    try std.testing.expectEqual(0x4.6d255d154e000758p-4, exp2m1(@as(f80, 0x5.a343d8p-4)));
    // try std.testing.expectEqual(0x4.6d256352ea969f68p-4, exp2m1(@as(f80, 0x5.a343df0d6800cp-4)));
    try std.testing.expectEqual(0x4.6d256352ea9666c8p-4, exp2m1(@as(f80, 0x5.a343df0d68008p-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d8p-4, exp2m1(@as(f80, 0x5.a343df0d680099a8p-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d78p-4, exp2m1(@as(f80, 0x5.a343df0d680099ap-4)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-128, exp2m1(@as(f80, 0x4p-128)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-1024, exp2m1(@as(f80, 0x4p-1024)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-16384, exp2m1(@as(f80, 0x4p-16384)));
    try std.testing.expectEqual(0x1.62e42fefa39ef358p-16384, exp2m1(@as(f80, 0x2p-16384)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-972, exp2m1(@as(f80, 0x8p-972)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-128, exp2m1(@as(f80, -0x4p-128)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-1024, exp2m1(@as(f80, -0x4p-1024)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-16384, exp2m1(@as(f80, -0x4p-16384)));
    try std.testing.expectEqual(-0x1.62e42fefa39ef358p-16384, exp2m1(@as(f80, -0x2p-16384)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-972, exp2m1(@as(f80, -0x8p-972)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, 0x4p-1076)));
    try std.testing.expectEqual(0x8p-16448, exp2m1(@as(f80, 0x8p-16448)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, -0x4p-1076)));
    try std.testing.expectEqual(-0x8p-16448, exp2m1(@as(f80, -0x8p-16448)));
    try std.testing.expectEqual(0x1p+128, exp2m1(@as(f80, 0x8p+4)));
    try std.testing.expectEqual(0xf.fffa7470363f451p+124, exp2m1(@as(f80, 0x7.fffff8p+4)));
    try std.testing.expectEqual(0x1.0000b17255775c04p+128, exp2m1(@as(f80, 0x8.00001p+4)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f80, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb54p+1020, exp2m1(@as(f80, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bdp+1020, exp2m1(@as(f80, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0x1.00058ba01fb9f96ep+1024, exp2m1(@as(f80, 0x4.000008p+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f80, 0x4p+8)));
    try std.testing.expectEqual(0x1.00000000002c5c86p+1024, exp2m1(@as(f80, 0x4.0000000000004p+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f80, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb54p+1020, exp2m1(@as(f80, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bdp+1020, exp2m1(@as(f80, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0xf.ffffffffffffd3ap+1020, exp2m1(@as(f80, 0x3.fffffffffffffffcp+8)));
    try std.testing.expectEqual(0xf.ffffffffffffa74p+1020, exp2m1(@as(f80, 0x3.fffffffffffffff8p+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f80, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb54p+1020, exp2m1(@as(f80, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bdp+1020, exp2m1(@as(f80, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0xf.ffffffffffffd3ap+1020, exp2m1(@as(f80, 0x3.fffffffffffffffcp+8)));
    try std.testing.expectEqual(0xf.ffffffffffffa74p+1020, exp2m1(@as(f80, 0x3.fffffffffffffff8p+8)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4p+12)));
    try std.testing.expectEqual(0xf.fd3a751c0f7e10cp+16380, exp2m1(@as(f80, 0x3.fffffcp+12)));
    try std.testing.expectEqual(0xf.ffffffffe9d1bdp+16380, exp2m1(@as(f80, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(0xf.fffffffffffd3a3p+16380, exp2m1(@as(f80, 0x3.fffffffffffffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.0000000000000008p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4p+12)));
    try std.testing.expectEqual(0xf.fd3a751c0f7e10cp+16380, exp2m1(@as(f80, 0x3.fffffcp+12)));
    try std.testing.expectEqual(0xf.ffffffffe9d1bdp+16380, exp2m1(@as(f80, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(0xf.fffffffffffd3a3p+16380, exp2m1(@as(f80, 0x3.fffffffffffffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f80), exp2m1(@as(f80, 0x4.0000000000000008p+12)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-128, exp2m1(@as(f80, 0x8p-128)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-1024, exp2m1(@as(f80, 0x8p-1024)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f80, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, 0x4p-1076)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd6p-16384, exp2m1(@as(f80, 0x8p-16384)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-128, exp2m1(@as(f80, -0x8p-128)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f80, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, -0x8p-152)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-1024, exp2m1(@as(f80, -0x8p-1024)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f80, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-152, exp2m1(@as(f80, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6bp-1076, exp2m1(@as(f80, -0x4p-1076)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd6p-16384, exp2m1(@as(f80, -0x8p-16384)));
    try std.testing.expectEqual(0xb.f946a591567c6c4p-4, exp2m1(@as(f80, 0xc.e5614p-4)));
    // try std.testing.expectEqual(-0x1.ffff1fe5d00dcadp-16, exp2m1(@as(f80, -0x2.e2aa8cp-16)));
    try std.testing.expectEqual(0xf.ffffe9d1bd08b5bp-4, exp2m1(@as(f80, 0xf.fffffp-4)));
    // try std.testing.expectEqual(-0xf.ffffe99e60cb578p-12, exp2m1(@as(f80, -0x1.720d9ap-8)));
    // try std.testing.expectEqual(0xd.ff7cde638771129p-4, exp2m1(@as(f80, 0xe.823adp-4)));
    // try std.testing.expectEqual(0xd.ff7cc998838deb3p-4, exp2m1(@as(f80, 0xe.823acp-4)));
    try std.testing.expectEqual(0xd.ff7ccbf7ea3df67p-4, exp2m1(@as(f80, 0xe.823ac1d36368p-4)));
    try std.testing.expectEqual(0xf.ffa481ae716262ep-4, exp2m1(@as(f80, 0xf.ffbep-4)));
    try std.testing.expectEqual(0xf.ffa46b806dd635bp-4, exp2m1(@as(f80, 0xf.ffbdfp-4)));
    try std.testing.expectEqual(0xf.ffa472087347b57p-4, exp2m1(@as(f80, 0xf.ffbdf4b6293bp-4)));
    try std.testing.expectEqual(-0xf.ffd1dabcd4a4db4p-16, exp2m1(@as(f80, -0x1.715bd8p-12)));
    try std.testing.expectEqual(-0xf.ffd1f0e9b4c3a42p-16, exp2m1(@as(f80, -0x1.715bdap-12)));
    // try std.testing.expectEqual(-0xf.ffd1de9143f4268p-16, exp2m1(@as(f80, -0x1.715bd8586d057p-12)));
    // try std.testing.expectEqual(0xf.fffccb507a41acp-4, exp2m1(@as(f80, 0xf.fffdbp-4)));
    try std.testing.expectEqual(0xf.fffcb52239833cdp-4, exp2m1(@as(f80, 0xf.fffdap-4)));
    try std.testing.expectEqual(0xf.fffcc8d3e28cb58p-4, exp2m1(@as(f80, 0xf.fffdae34cb78p-4)));
    try std.testing.expectEqual(0x7.fbd6a1e924c702f8p-4, exp2m1(@as(f80, 0x9.5800ap-4)));
    try std.testing.expectEqual(0x7.fbd69149550267bp-4, exp2m1(@as(f80, 0x9.58009p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc362968p-4, exp2m1(@as(f80, 0x9.58009dd25961p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc35a468p-4, exp2m1(@as(f80, 0x9.58009dd259608p-4)));
    try std.testing.expectEqual(0x7.fbd69fa5bc35cda8p-4, exp2m1(@as(f80, 0x9.58009dd25960a7bp-4)));
    // try std.testing.expectEqual(-0xf.ffb544e3eb5c05cp-16, exp2m1(@as(f80, -0x1.715944p-12)));
    // try std.testing.expectEqual(-0xf.ffb55b10cb7d48bp-16, exp2m1(@as(f80, -0x1.715946p-12)));
    try std.testing.expectEqual(-0xf.ffb55350f70441bp-16, exp2m1(@as(f80, -0x1.7159454d13d4ep-12)));
    // try std.testing.expectEqual(-0xf.ffb55350f704f31p-16, exp2m1(@as(f80, -0x1.7159454d13d4fp-12)));
    // try std.testing.expectEqual(-0xf.ffb55350f7046dcp-16, exp2m1(@as(f80, -0x1.7159454d13d4e3fap-12)));
    // try std.testing.expectEqual(0x7.fe3bb4f14c08aecp-4, exp2m1(@as(f80, 0x9.5a4e9p-4)));
    try std.testing.expectEqual(0x7.fe3ba44fd350af9p-4, exp2m1(@as(f80, 0x9.5a4e8p-4)));
    try std.testing.expectEqual(0x7.fe3ba6b85715b15p-4, exp2m1(@as(f80, 0x9.5a4e825121e58p-4)));
    // try std.testing.expectEqual(0x7.fe3ba6b857152c4p-4, exp2m1(@as(f80, 0x9.5a4e825121e5p-4)));
    try std.testing.expectEqual(0x7.fe3ba6b85715a92p-4, exp2m1(@as(f80, 0x9.5a4e825121e5782p-4)));
    try std.testing.expectEqual(0x7.e1183f0069975228p-4, exp2m1(@as(f80, 0x9.3e34fp-4)));
    // try std.testing.expectEqual(0x7.e1182e7323605c68p-4, exp2m1(@as(f80, 0x9.3e34ep-4)));
    try std.testing.expectEqual(0x7.e1183655687357d8p-4, exp2m1(@as(f80, 0x9.3e34e79efaa2p-4)));
    try std.testing.expectEqual(0x7.e11836556872d37p-4, exp2m1(@as(f80, 0x9.3e34e79efaa18p-4)));
    // try std.testing.expectEqual(0x7.e11836556872e0dp-4, exp2m1(@as(f80, 0x9.3e34e79efaa18cfp-4)));
    try std.testing.expectEqual(0x7.d9fc57b8e5e8324p-4, exp2m1(@as(f80, 0x9.3754bp-4)));
    // try std.testing.expectEqual(0x7.d9fc47308d273aap-4, exp2m1(@as(f80, 0x9.3754ap-4)));
    // try std.testing.expectEqual(0x7.d9fc4d9af87893dp-4, exp2m1(@as(f80, 0x9.3754a635821p-4)));
    try std.testing.expectEqual(0x7.d9fc4d9af8780f9p-4, exp2m1(@as(f80, 0x9.3754a635820f8p-4)));
    // try std.testing.expectEqual(0x7.d9fc4d9af87823a8p-4, exp2m1(@as(f80, 0x9.3754a635820f937p-4)));
    try std.testing.expectEqual(-0xf.f82149e2517d5ebp-12, exp2m1(@as(f80, -0x1.71573cp-8)));
    // try std.testing.expectEqual(-0xf.f8215ffa7122464p-12, exp2m1(@as(f80, -0x1.71573ep-8)));
    try std.testing.expectEqual(-0xf.f8215df6b79a429p-12, exp2m1(@as(f80, -0x1.71573dd150de9p-8)));
    // try std.testing.expectEqual(-0xf.f8215df6b79af35p-12, exp2m1(@as(f80, -0x1.71573dd150deap-8)));
    // try std.testing.expectEqual(-0xf.f8215df6b79acfdp-12, exp2m1(@as(f80, -0x1.71573dd150de9ccap-8)));
    try std.testing.expectEqual(0x7.e001481f3263d8bp-4, exp2m1(@as(f80, 0x9.3d274p-4)));
    // try std.testing.expectEqual(0x7.e0013792ad89e87p-4, exp2m1(@as(f80, 0x9.3d273p-4)));
    try std.testing.expectEqual(0x7.e00137c8ba27655p-4, exp2m1(@as(f80, 0x9.3d27303441adp-4)));
    try std.testing.expectEqual(0x7.e00137c8ba26e0fp-4, exp2m1(@as(f80, 0x9.3d27303441ac8p-4)));
    try std.testing.expectEqual(0x7.e00137c8ba26e2fp-4, exp2m1(@as(f80, 0x9.3d27303441ac81fp-4)));
    // try std.testing.expectEqual(0x7.9f8b08c74330d558p-4, exp2m1(@as(f80, 0x8.fe7fap-4)));
    try std.testing.expectEqual(0x7.9f8af8676cd352a8p-4, exp2m1(@as(f80, 0x8.fe7f9p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc752fc3p-4, exp2m1(@as(f80, 0x8.fe7f91d947a2p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc752793p-4, exp2m1(@as(f80, 0x8.fe7f91d947a18p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc752caep-4, exp2m1(@as(f80, 0x8.fe7f91d947a1cfdp-4)));
    try std.testing.expectEqual(0x7.b3a12ca1e0333df8p-4, exp2m1(@as(f80, 0x9.1217ep-4)));
    // try std.testing.expectEqual(0x7.b3a11c341d93389p-4, exp2m1(@as(f80, 0x9.1217dp-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd79f8p-4, exp2m1(@as(f80, 0x9.1217d12087d78p-4)));
    try std.testing.expectEqual(0x7.b3a11d5c60bcf69p-4, exp2m1(@as(f80, 0x9.1217d12087d7p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd64ap-4, exp2m1(@as(f80, 0x9.1217d12087d76b3p-4)));
    try std.testing.expectEqual(0x7.b3a11d5c60bd649p-4, exp2m1(@as(f80, 0x9.1217d12087d76b2p-4)));
    // try std.testing.expectEqual(0x7.20519dbc87ff4b2p-4, exp2m1(@as(f80, 0x8.80db5p-4)));
    try std.testing.expectEqual(0x7.20518db4e1082748p-4, exp2m1(@as(f80, 0x8.80db4p-4)));
    try std.testing.expectEqual(0x7.205196e3a37922p-4, exp2m1(@as(f80, 0x8.80db492a6043p-4)));
    // try std.testing.expectEqual(0x7.205196e3a378a1cp-4, exp2m1(@as(f80, 0x8.80db492a60428p-4)));
    try std.testing.expectEqual(0x7.205196e3a378b9cp-4, exp2m1(@as(f80, 0x8.80db492a604297fp-4)));
    // try std.testing.expectEqual(0x7.205196e3a378b9bp-4, exp2m1(@as(f80, 0x8.80db492a604297ep-4)));
    // try std.testing.expectEqual(0x7.26a872486f447e08p-4, exp2m1(@as(f80, 0x8.872e4p-4)));
    // try std.testing.expectEqual(0x7.26a8623c6371246p-4, exp2m1(@as(f80, 0x8.872e3p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c8108p-4, exp2m1(@as(f80, 0x8.872e307510a88p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c00a8p-4, exp2m1(@as(f80, 0x8.872e307510a8p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c0f18p-4, exp2m1(@as(f80, 0x8.872e307510a80e6p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c0f08p-4, exp2m1(@as(f80, 0x8.872e307510a80e5p-4)));
    // try std.testing.expectEqual(0x7.b2392197a9c47dp-4, exp2m1(@as(f80, 0x9.10b93p-4)));
    // try std.testing.expectEqual(0x7.b239112ae0b48ffp-4, exp2m1(@as(f80, 0x9.10b92p-4)));
    try std.testing.expectEqual(0x7.b239166cbf6ecff8p-4, exp2m1(@as(f80, 0x9.10b9251f0ccap-4)));
    try std.testing.expectEqual(0x7.b239166cbf6e4c9p-4, exp2m1(@as(f80, 0x9.10b9251f0cc98p-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6e8cp-4, exp2m1(@as(f80, 0x9.10b9251f0cc9bddp-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6e8bfp-4, exp2m1(@as(f80, 0x9.10b9251f0cc9bdcp-4)));

    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f128, -0x0p+0)));
    try std.testing.expectEqual(0x1p+0, exp2m1(@as(f128, 0x1p+0)));
    // try std.testing.expectEqual(0xa.e89f995ad3ad5e8734d1773205a8p-4, exp2m1(@as(f128, 0xcp-4)));
    try std.testing.expectEqual(0x3p+0, exp2m1(@as(f128, 0x2p+0)));
    try std.testing.expectEqual(0x7p+0, exp2m1(@as(f128, 0x3p+0)));
    try std.testing.expectEqual(0xfp+0, exp2m1(@as(f128, 0x4p+0)));
    try std.testing.expectEqual(0x1.fp+4, exp2m1(@as(f128, 0x5p+0)));
    try std.testing.expectEqual(0x3.ffp+8, exp2m1(@as(f128, 0xap+0)));
    try std.testing.expectEqual(0x7.fffp+12, exp2m1(@as(f128, 0xfp+0)));
    try std.testing.expectEqual(0xf.ffffp+16, exp2m1(@as(f128, 0x1.4p+4)));
    try std.testing.expectEqual(0x1.ffffffp+24, exp2m1(@as(f128, 0x1.9p+4)));
    try std.testing.expectEqual(0x3.fffffffp+28, exp2m1(@as(f128, 0x1.ep+4)));
    try std.testing.expectEqual(0x7.ffffffffp+32, exp2m1(@as(f128, 0x2.3p+4)));
    try std.testing.expectEqual(0xf.fffffffffp+36, exp2m1(@as(f128, 0x2.8p+4)));
    try std.testing.expectEqual(0x3.ffffffffffffp+48, exp2m1(@as(f128, 0x3.2p+4)));
    try std.testing.expectEqual(0xf.ffffffffffffffp+56, exp2m1(@as(f128, 0x3.cp+4)));
    try std.testing.expectEqual(0x3.fffffffffffffffffp+68, exp2m1(@as(f128, 0x4.6p+4)));
    try std.testing.expectEqual(0xf.fffffffffffffffffffp+76, exp2m1(@as(f128, 0x5p+4)));
    try std.testing.expectEqual(0x3.ffffffffffffffffffffffp+88, exp2m1(@as(f128, 0x5.ap+4)));
    try std.testing.expectEqual(0xf.ffffffffffffffffffffffffp+96, exp2m1(@as(f128, 0x6.4p+4)));
    try std.testing.expectEqual(0x8p+124, exp2m1(@as(f128, 0x7.fp+4)));
    try std.testing.expectEqual(0x1p+500, exp2m1(@as(f128, 0x1.f4p+8)));
    try std.testing.expectEqual(0x1.306fe0a31b7152de8d5a46305c86p+11356, exp2m1(@as(f128, 0x2.c5c4p+12)));
    try std.testing.expectEqual(-0xf.fcp-4, exp2m1(@as(f128, -0xap+0)));
    try std.testing.expectEqual(-0xf.fffp-4, exp2m1(@as(f128, -0x1p+4)));
    try std.testing.expectEqual(-0xf.fff8p-4, exp2m1(@as(f128, -0x1.1p+4)));
    try std.testing.expectEqual(-0xf.fffcp-4, exp2m1(@as(f128, -0x1.2p+4)));
    try std.testing.expectEqual(-0xf.ffffffffp-4, exp2m1(@as(f128, -0x2.4p+4)));
    try std.testing.expectEqual(-0xf.ffffffff8p-4, exp2m1(@as(f128, -0x2.5p+4)));
    try std.testing.expectEqual(-0xf.ffffffffcp-4, exp2m1(@as(f128, -0x2.6p+4)));
    try std.testing.expectEqual(-0xf.ffffffffffp-4, exp2m1(@as(f128, -0x2.cp+4)));
    try std.testing.expectEqual(-0xf.ffffffffff8p-4, exp2m1(@as(f128, -0x2.dp+4)));
    try std.testing.expectEqual(-0xf.ffffffffffcp-4, exp2m1(@as(f128, -0x2.ep+4)));
    try std.testing.expectEqual(-0xf.fffffffffffffffff8p-4, exp2m1(@as(f128, -0x4.9p+4)));
    try std.testing.expectEqual(-0xf.fffffffffffffffffcp-4, exp2m1(@as(f128, -0x4.ap+4)));
    try std.testing.expectEqual(-0xf.fffffffffffffffffep-4, exp2m1(@as(f128, -0x4.bp+4)));
    try std.testing.expectEqual(-0xf.ffffffffffffffffffcp-4, exp2m1(@as(f128, -0x4.ep+4)));
    try std.testing.expectEqual(-0xf.ffffffffffffffffffep-4, exp2m1(@as(f128, -0x4.fp+4)));
    try std.testing.expectEqual(-0xf.fffffffffffffffffffp-4, exp2m1(@as(f128, -0x5p+4)));
    try std.testing.expectEqual(-0xf.ffffffffffffffffffffffffp-4, exp2m1(@as(f128, -0x6.4p+4)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0x3.e8p+8)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0x2.71p+12)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x1.86ap+16)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0xf.fffffp+124)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0xf.fffffffffffffffp+16380)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0xf.fffffffffffffffffffffffffff8p+16380)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0xf.ffffffffffffbffffffffffffcp+1020)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0xf.fffffp+124)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0xf.ffffffffffff8p+1020)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0xf.fffffffffffffffp+16380)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0xf.fffffffffffffffffffffffffff8p+16380)));
    try std.testing.expectEqual(-0x1p+0, exp2m1(@as(f128, -0xf.ffffffffffffbffffffffffffcp+1020)));
    // try std.testing.expectEqual(0x3.06fe0a31b7152de8d5a46305c85ep-4, exp2m1(@as(f128, 0x4p-4)));
    try std.testing.expectEqual(-0x2.8bb03352962950bc65974466fd2cp-4, exp2m1(@as(f128, -0x4p-4)));
    try std.testing.expectEqual(0x2.c605e2e8cec506d21bfc89a23a02p-12, exp2m1(@as(f128, 0x4p-12)));
    try std.testing.expectEqual(-0x2.c58ae3f081ef42c460751fed042p-12, exp2m1(@as(f128, -0x4p-12)));
    try std.testing.expectEqual(0xb.1721bcfc99d9f890ea069117638p-24, exp2m1(@as(f128, 0x1p-20)));
    try std.testing.expectEqual(-0xb.172141fda1dbed75c2b9f8ce0e1p-24, exp2m1(@as(f128, -0x1p-20)));
    try std.testing.expectEqual(0x5.8b90bfcdee5acd3c1cedc823b108p-32, exp2m1(@as(f128, 0x8p-32)));
    try std.testing.expectEqual(-0x5.8b90bfaf2e9ccdb9575f1f65cfa8p-32, exp2m1(@as(f128, -0x8p-32)));
    try std.testing.expectEqual(0xb.17217f80f4ef5aadda4555466e7p-36, exp2m1(@as(f128, 0x1p-32)));
    try std.testing.expectEqual(-0xb.17217f7944ffdacd28e1ab2a59f8p-36, exp2m1(@as(f128, -0x1p-32)));
    try std.testing.expectEqual(0x2.c5c85fdf473e242ea38dd3eb30aap-52, exp2m1(@as(f128, 0x4p-52)));
    try std.testing.expectEqual(-0x2.c5c85fdf473da92fab8fc8d4f608p-52, exp2m1(@as(f128, -0x4p-52)));
    try std.testing.expectEqual(0xb.17217f7d1cf79ac07632f97097ep-68, exp2m1(@as(f128, 0x1p-64)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79ab8c643798fe68p-68, exp2m1(@as(f128, -0x1p-64)));
    try std.testing.expectEqual(0xb.17217f7d1cf79abc9e3b39807cbp-104, exp2m1(@as(f128, 0x1p-100)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79abc9e3b398001bp-104, exp2m1(@as(f128, -0x1p-100)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(0xb.17217f7d1cf79abc9e3b39803f3p-604, exp2m1(@as(f128, 0x1p-600)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f128, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, -0x8p-152)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79abc9e3b39803f3p-604, exp2m1(@as(f128, -0x1p-600)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, 0x4p-1076)));
    try std.testing.expectEqual(0xb.17217f7d1cf79abc9e3b39803f3p-10004, exp2m1(@as(f128, 0x1p-10000)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f128, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, -0x4p-1076)));
    try std.testing.expectEqual(-0xb.17217f7d1cf79abc9e3b39803f3p-10004, exp2m1(@as(f128, -0x1p-10000)));
    try std.testing.expectEqual(0x9.e184982d8379ed0a554bc3aa2b18p-60, exp2m1(@as(f128, 0xe.4152bp-60)));
    try std.testing.expectEqual(0x9.e1848d1661fa6fed5daa2db7ecap-60, exp2m1(@as(f128, 0xe.4152ap-60)));
    try std.testing.expectEqual(0x9.e18495a4970e0cfdbeeb69b30a4p-60, exp2m1(@as(f128, 0xe.4152ac57cd1fp-60)));
    // try std.testing.expectEqual(0x9.e18495a4970db444b2ef80cb4d38p-60, exp2m1(@as(f128, 0xe.4152ac57cd1e8p-60)));
    // try std.testing.expectEqual(0x9.e18495a4970dcfbbfbe53ca50a78p-60, exp2m1(@as(f128, 0xe.4152ac57cd1ea7ap-60)));
    try std.testing.expectEqual(0x5.1c58c29907bb82dc9186b4edd57cp-4, exp2m1(@as(f128, 0x6.660248p-4)));
    try std.testing.expectEqual(0x5.1c58bb4806c0c0623e62c811f4a4p-4, exp2m1(@as(f128, 0x6.66024p-4)));
    // try std.testing.expectEqual(0x5.1c58c1f1226f62aec730a95d6cc4p-4, exp2m1(@as(f128, 0x6.660247486aed8p-4)));
    // try std.testing.expectEqual(0x4.e47a9a1fd636404bc988aaa0f864p-4, exp2m1(@as(f128, 0x6.289a78p-4)));
    try std.testing.expectEqual(0x4.d873fb629a2875bb7c8af48b4134p-4, exp2m1(@as(f128, 0x6.1b4d38p-4)));
    // try std.testing.expectEqual(0x4.d873f42920e5ab7cf7e01228fafp-4, exp2m1(@as(f128, 0x6.1b4d3p-4)));
    try std.testing.expectEqual(0x4.d873f585e952c254f0aa1ea587b8p-4, exp2m1(@as(f128, 0x6.1b4d318238d4cp-4)));
    // try std.testing.expectEqual(0x4.d873f585e9528889269a09938574p-4, exp2m1(@as(f128, 0x6.1b4d318238d48p-4)));
    try std.testing.expectEqual(0x4.d873f585e952a7d520e4fefc65dcp-4, exp2m1(@as(f128, 0x6.1b4d318238d4a2a8p-4)));
    try std.testing.expectEqual(0x4.bbdc12729d2f1e81269411dba248p-4, exp2m1(@as(f128, 0x5.fb8dc8p-4)));
    // try std.testing.expectEqual(0x4.bbdc0b430ccf830960c2306d0edcp-4, exp2m1(@as(f128, 0x5.fb8dcp-4)));
    try std.testing.expectEqual(0x4.bbdc10ed4baaf9c699f36defe04cp-4, exp2m1(@as(f128, 0x5.fb8dc64e91a74p-4)));
    try std.testing.expectEqual(0x2.9471234f821e80f78de8a1db7ab4p-4, exp2m1(@as(f128, 0x3.735f4cp-4)));
    // try std.testing.expectEqual(0x2.94712017479a80cd8a9c2d133f4ep-4, exp2m1(@as(f128, 0x3.735f48p-4)));
    try std.testing.expectEqual(0x2.94712149646d16674b616be89a2cp-4, exp2m1(@as(f128, 0x3.735f497c4e676p-4)));
    // try std.testing.expectEqual(0x2.94712149646cfca57741fd8b9618p-4, exp2m1(@as(f128, 0x3.735f497c4e674p-4)));
    // try std.testing.expectEqual(0x2.94712149646d0c3a9a7681701beap-4, exp2m1(@as(f128, 0x3.735f497c4e67535cp-4)));
    try std.testing.expectEqual(-0xf.ee1c3da279a9defcf2597d93e11p-4, exp2m1(@as(f128, -0x7.d6c508p+0)));
    try std.testing.expectEqual(-0xf.ee1c3e05ad3cabecb457091db95p-4, exp2m1(@as(f128, -0x7.d6c51p+0)));
    try std.testing.expectEqual(-0xf.ee1c3dcb18a263b1221cc8d63eap-4, exp2m1(@as(f128, -0x7.d6c50b469d404p+0)));
    try std.testing.expectEqual(0x1.44c30f9342875917878af56ffdc1p+72, exp2m1(@as(f128, 0x4.857de8p+4)));
    // try std.testing.expectEqual(0x4.a3188776d0e06147b6b2280762f4p-4, exp2m1(@as(f128, 0x5.dfeb68p-4)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, 0x4p-1076)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6cae1628d18d838p-16384, exp2m1(@as(f128, 0x4.0000000000000028p-16384)));
    // try std.testing.expectEqual(0x4.5837a6126519561a80a7939eaf2p-4, exp2m1(@as(f128, 0x5.8b912p-4)));
    try std.testing.expectEqual(0x4.58379f055d4572291d4adc29df4p-4, exp2m1(@as(f128, 0x5.8b9118p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fdd6d97b588f420dp-4, exp2m1(@as(f128, 0x5.8b911eb673348p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fa505590fc869cefcp-4, exp2m1(@as(f128, 0x5.8b911eb673344p-4)));
    try std.testing.expectEqual(0x4.5837a4eff11fc9d866f5bdbc1b98p-4, exp2m1(@as(f128, 0x5.8b911eb6733469c8p-4)));
    try std.testing.expectEqual(0x4.6d25642996ae0b2e8d5f10b87764p-4, exp2m1(@as(f128, 0x5.a343ep-4)));
    try std.testing.expectEqual(0x4.6d255d154e000757d1e15db20e0cp-4, exp2m1(@as(f128, 0x5.a343d8p-4)));
    try std.testing.expectEqual(0x4.6d256352ea969f6bd96652994b8p-4, exp2m1(@as(f128, 0x5.a343df0d6800cp-4)));
    try std.testing.expectEqual(0x4.6d256352ea9666c993eeb6ba2e5p-4, exp2m1(@as(f128, 0x5.a343df0d68008p-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d7da107c9967f5p-4, exp2m1(@as(f128, 0x5.a343df0d680099a8p-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d768cbf1aa3036cp-4, exp2m1(@as(f128, 0x5.a343df0d680099ap-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d7d4d8bfac6f26cp-4, exp2m1(@as(f128, 0x5.a343df0d680099a7a1a873a751a8p-4)));
    // try std.testing.expectEqual(0x4.6d256352ea967d7d4d8bfac6f2b8p-4, exp2m1(@as(f128, 0x5.a343df0d680099a7a1a873a752p-4)));
    try std.testing.expectEqual(0x4.6d256352ea967d7d4d8bfac6f0f4p-4, exp2m1(@as(f128, 0x5.a343df0d680099a7a1a873a75p-4)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-128, exp2m1(@as(f128, 0x4p-128)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-1024, exp2m1(@as(f128, 0x4p-1024)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-16384, exp2m1(@as(f128, 0x4p-16384)));
    // try std.testing.expectEqual(0x1.62e42fefa39ef35793c7673007e4p-16384, exp2m1(@as(f128, 0x2p-16384)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-972, exp2m1(@as(f128, 0x8p-972)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-128, exp2m1(@as(f128, -0x4p-128)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-1024, exp2m1(@as(f128, -0x4p-1024)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-16384, exp2m1(@as(f128, -0x4p-16384)));
    // try std.testing.expectEqual(-0x1.62e42fefa39ef35793c7673007e4p-16384, exp2m1(@as(f128, -0x2p-16384)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-972, exp2m1(@as(f128, -0x8p-972)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, 0x4p-1076)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7cp-16448, exp2m1(@as(f128, 0x8p-16448)));
    try std.testing.expectEqual(0x2.c5c85fdf473cp-16448, exp2m1(@as(f128, 0x4p-16448)));
    try std.testing.expectEqual(0x4p-16496, exp2m1(@as(f128, 0x4p-16496)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, -0x4p-1076)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7cp-16448, exp2m1(@as(f128, -0x8p-16448)));
    try std.testing.expectEqual(-0x2.c5c85fdf473cp-16448, exp2m1(@as(f128, -0x4p-16448)));
    try std.testing.expectEqual(-0x4p-16496, exp2m1(@as(f128, -0x4p-16496)));
    try std.testing.expectEqual(0x1p+128, exp2m1(@as(f128, 0x8p+4)));
    try std.testing.expectEqual(0xf.fffa7470363f4515426d76c762b8p+124, exp2m1(@as(f128, 0x7.fffff8p+4)));
    try std.testing.expectEqual(0x1.0000b17255775c040618bf4a4adfp+128, exp2m1(@as(f128, 0x8.00001p+4)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f128, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb53cd7629d70feap+1020, exp2m1(@as(f128, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bd0105c706c8768p+1020, exp2m1(@as(f128, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0x1.00058ba01fb9f96d6cacd4b18091p+1024, exp2m1(@as(f128, 0x4.000008p+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f128, 0x4p+8)));
    try std.testing.expectEqual(0x1.00000000002c5c85fdf477b662b2p+1024, exp2m1(@as(f128, 0x4.0000000000004p+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f128, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb53cd7629d70feap+1020, exp2m1(@as(f128, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bd0105c706c8768p+1020, exp2m1(@as(f128, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0xf.ffffffffffffd3a37a020b8c21dp+1020, exp2m1(@as(f128, 0x3.fffffffffffffffcp+8)));
    try std.testing.expectEqual(0xf.ffffffffffffa746f4041718442p+1020, exp2m1(@as(f128, 0x3.fffffffffffffff8p+8)));
    try std.testing.expectEqual(0xf.ffffffffffffbffffffffffd357p+1020, exp2m1(@as(f128, 0x3.fffffffffffffffa3aae26b51fp+8)));
    try std.testing.expectEqual(0x1p+1024, exp2m1(@as(f128, 0x4p+8)));
    try std.testing.expectEqual(0xf.ffd3a3b7814eb53cd7629d70feap+1020, exp2m1(@as(f128, 0x3.fffffcp+8)));
    try std.testing.expectEqual(0xf.fffffffffe9d1bd0105c706c8768p+1020, exp2m1(@as(f128, 0x3.ffffffffffffep+8)));
    try std.testing.expectEqual(0xf.ffffffffffffd3a37a020b8c21dp+1020, exp2m1(@as(f128, 0x3.fffffffffffffffcp+8)));
    try std.testing.expectEqual(0xf.ffffffffffffa746f4041718442p+1020, exp2m1(@as(f128, 0x3.fffffffffffffff8p+8)));
    try std.testing.expectEqual(0xf.ffffffffffffc000000000084c9p+1020, exp2m1(@as(f128, 0x3.fffffffffffffffa3aae26b52p+8)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4p+12)));
    try std.testing.expectEqual(0xf.fd3a751c0f7e10bd3b9f8ae012f8p+16380, exp2m1(@as(f128, 0x3.fffffcp+12)));
    try std.testing.expectEqual(0xf.ffffffffe9d1bd0105d570a98688p+16380, exp2m1(@as(f128, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(0xf.fffffffffffd3a37a020b8c256dp+16380, exp2m1(@as(f128, 0x3.fffffffffffffffcp+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.0000000000000008p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4p+12)));
    try std.testing.expectEqual(0xf.fd3a751c0f7e10bd3b9f8ae012f8p+16380, exp2m1(@as(f128, 0x3.fffffcp+12)));
    try std.testing.expectEqual(0xf.ffffffffe9d1bd0105d570a98688p+16380, exp2m1(@as(f128, 0x3.ffffffffffffep+12)));
    try std.testing.expectEqual(0xf.fffffffffffd3a37a020b8c256dp+16380, exp2m1(@as(f128, 0x3.fffffffffffffffcp+12)));
    try std.testing.expectEqual(0xf.fffffffffffffffffffffffe9d18p+16380, exp2m1(@as(f128, 0x3.fffffffffffffffffffffffffffep+12)));
    try std.testing.expectEqual(0xf.ffffffffffffffffffffff4e8de8p+16380, exp2m1(@as(f128, 0x3.ffffffffffffffffffffffffffp+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.000008p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.0000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.0000000000000008p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.0000000000000000000000000004p+12)));
    try std.testing.expectEqual(std.math.inf(f128), exp2m1(@as(f128, 0x4.00000000000000000000000002p+12)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-128, exp2m1(@as(f128, 0x8p-128)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-1024, exp2m1(@as(f128, 0x8p-1024)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, 0x8p-152)));
    try std.testing.expectEqual(0x0p+0, exp2m1(@as(f128, 0x0p+0)));
    try std.testing.expectEqual(0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, 0x4p-1076)));
    try std.testing.expectEqual(0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-16384, exp2m1(@as(f128, 0x8p-16384)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-128, exp2m1(@as(f128, -0x8p-128)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f128, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, -0x8p-152)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-1024, exp2m1(@as(f128, -0x8p-1024)));
    try std.testing.expectEqual(-0x0p+0, exp2m1(@as(f128, -0x0p+0)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-152, exp2m1(@as(f128, -0x8p-152)));
    try std.testing.expectEqual(-0x2.c5c85fdf473de6af278ece600fccp-1076, exp2m1(@as(f128, -0x4p-1076)));
    try std.testing.expectEqual(-0x5.8b90bfbe8e7bcd5e4f1d9cc01f98p-16384, exp2m1(@as(f128, -0x8p-16384)));
    try std.testing.expectEqual(0xb.f946a591567c6c442926a7a2bb3p-4, exp2m1(@as(f128, 0xc.e5614p-4)));
    try std.testing.expectEqual(-0x1.ffff1fe5d00dcad024e1e12d2511p-16, exp2m1(@as(f128, -0x2.e2aa8cp-16)));
    // try std.testing.expectEqual(0xf.ffffe9d1bd08b5b58ee4879a1228p-4, exp2m1(@as(f128, 0xf.fffffp-4)));
    // try std.testing.expectEqual(-0xf.ffffe99e60cb57787675a459d1f8p-12, exp2m1(@as(f128, -0x1.720d9ap-8)));
    try std.testing.expectEqual(0xd.ff7cde638771128ab8a54647fe78p-4, exp2m1(@as(f128, 0xe.823adp-4)));
    // try std.testing.expectEqual(0xd.ff7cc998838deb336cc36bcaf2c8p-4, exp2m1(@as(f128, 0xe.823acp-4)));
    // try std.testing.expectEqual(0xd.ff7ccbf7ea3df66976db9b12a4dp-4, exp2m1(@as(f128, 0xe.823ac1d36368p-4)));
    // try std.testing.expectEqual(0xf.ffa481ae716262de8acb8406b22p-4, exp2m1(@as(f128, 0xf.ffbep-4)));
    // try std.testing.expectEqual(0xf.ffa46b806dd635b2f6b342811bdp-4, exp2m1(@as(f128, 0xf.ffbdfp-4)));
    try std.testing.expectEqual(0xf.ffa472087347b56d7f3ec806acc8p-4, exp2m1(@as(f128, 0xf.ffbdf4b6293bp-4)));
    try std.testing.expectEqual(-0xf.ffd1dabcd4a4db40fb8eb396224p-16, exp2m1(@as(f128, -0x1.715bd8p-12)));
    try std.testing.expectEqual(-0xf.ffd1f0e9b4c3a41fe3f1f444d02p-16, exp2m1(@as(f128, -0x1.715bdap-12)));
    try std.testing.expectEqual(-0xf.ffd1de9143f42679861d7bed9a6p-16, exp2m1(@as(f128, -0x1.715bd8586d057p-12)));
    try std.testing.expectEqual(0xf.fffccb507a41ac03d77fa3f5fc78p-4, exp2m1(@as(f128, 0xf.fffdbp-4)));
    // try std.testing.expectEqual(0xf.fffcb52239833cd7199f7598ab28p-4, exp2m1(@as(f128, 0xf.fffdap-4)));
    // try std.testing.expectEqual(0xf.fffcc8d3e28cb579058d0242ddep-4, exp2m1(@as(f128, 0xf.fffdae34cb78p-4)));
    // try std.testing.expectEqual(0x7.fbd6a1e924c702f6150eef68ceccp-4, exp2m1(@as(f128, 0x9.5800ap-4)));
    try std.testing.expectEqual(0x7.fbd69149550267b0d946bd6c88bp-4, exp2m1(@as(f128, 0x9.58009p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc36296843f49965e7acp-4, exp2m1(@as(f128, 0x9.58009dd25961p-4)));
    // try std.testing.expectEqual(0x7.fbd69fa5bc35a469c5ae348abd9cp-4, exp2m1(@as(f128, 0x9.58009dd259608p-4)));
    try std.testing.expectEqual(0x7.fbd69fa5bc35cda62e1548103178p-4, exp2m1(@as(f128, 0x9.58009dd25960a7bp-4)));
    try std.testing.expectEqual(-0xf.ffb544e3eb5c05c51c23cb4e2d18p-16, exp2m1(@as(f128, -0x1.715944p-12)));
    try std.testing.expectEqual(-0xf.ffb55b10cb7d48af10a7a81e3d38p-16, exp2m1(@as(f128, -0x1.715946p-12)));
    try std.testing.expectEqual(-0xf.ffb55350f70441adfe6df995259p-16, exp2m1(@as(f128, -0x1.7159454d13d4ep-12)));
    try std.testing.expectEqual(-0xf.ffb55350f704f314ff780e946b4p-16, exp2m1(@as(f128, -0x1.7159454d13d4fp-12)));
    // try std.testing.expectEqual(-0xf.ffb55350f7046dc538101b0d174p-16, exp2m1(@as(f128, -0x1.7159454d13d4e3fap-12)));
    // try std.testing.expectEqual(0x7.fe3bb4f14c08aec268c800635a94p-4, exp2m1(@as(f128, 0x9.5a4e9p-4)));
    try std.testing.expectEqual(0x7.fe3ba44fd350af8d7c652eab6f4p-4, exp2m1(@as(f128, 0x9.5a4e8p-4)));
    try std.testing.expectEqual(0x7.fe3ba6b85715b14d077bb6f78b48p-4, exp2m1(@as(f128, 0x9.5a4e825121e58p-4)));
    // try std.testing.expectEqual(0x7.fe3ba6b857152c4141dc7ed8ddbcp-4, exp2m1(@as(f128, 0x9.5a4e825121e5p-4)));
    // try std.testing.expectEqual(0x7.fe3ba6b85715a91d8e132b43a804p-4, exp2m1(@as(f128, 0x9.5a4e825121e5782p-4)));
    try std.testing.expectEqual(0x7.e1183f006997522797491e99bbf8p-4, exp2m1(@as(f128, 0x9.3e34fp-4)));
    // try std.testing.expectEqual(0x7.e1182e7323605c693b51061f20dcp-4, exp2m1(@as(f128, 0x9.3e34ep-4)));
    try std.testing.expectEqual(0x7.e1183655687357da14c6602e5bbp-4, exp2m1(@as(f128, 0x9.3e34e79efaa2p-4)));
    // try std.testing.expectEqual(0x7.e11836556872d36fe310dec9713cp-4, exp2m1(@as(f128, 0x9.3e34e79efaa18p-4)));
    try std.testing.expectEqual(0x7.e11836556872e0d21ed7173d845p-4, exp2m1(@as(f128, 0x9.3e34e79efaa18cfp-4)));
    // try std.testing.expectEqual(0x7.d9fc57b8e5e8323e41ac02296cecp-4, exp2m1(@as(f128, 0x9.3754bp-4)));
    // try std.testing.expectEqual(0x7.d9fc47308d273a9e2125ae738cecp-4, exp2m1(@as(f128, 0x9.3754ap-4)));
    // try std.testing.expectEqual(0x7.d9fc4d9af87893d39a20e3919a3cp-4, exp2m1(@as(f128, 0x9.3754a635821p-4)));
    try std.testing.expectEqual(0x7.d9fc4d9af8780f90d423699d908p-4, exp2m1(@as(f128, 0x9.3754a635820f8p-4)));
    // try std.testing.expectEqual(0x7.d9fc4d9af87823a677f447827f4cp-4, exp2m1(@as(f128, 0x9.3754a635820f937p-4)));
    // try std.testing.expectEqual(-0xf.f82149e2517d5eaf2e0a20fdb4ap-12, exp2m1(@as(f128, -0x1.71573cp-8)));
    try std.testing.expectEqual(-0xf.f8215ffa71224646dbc2f07be02p-12, exp2m1(@as(f128, -0x1.71573ep-8)));
    // try std.testing.expectEqual(-0xf.f8215df6b79a428ee6c75a3db64p-12, exp2m1(@as(f128, -0x1.71573dd150de9p-8)));
    try std.testing.expectEqual(-0xf.f8215df6b79af34fe3ee32ce8078p-12, exp2m1(@as(f128, -0x1.71573dd150deap-8)));
    try std.testing.expectEqual(-0xf.f8215df6b79acfd72920871871ep-12, exp2m1(@as(f128, -0x1.71573dd150de9ccap-8)));
    // try std.testing.expectEqual(0x7.e001481f3263d8ac6414e72e2834p-4, exp2m1(@as(f128, 0x9.3d274p-4)));
    try std.testing.expectEqual(0x7.e0013792ad89e870b49a6c07764p-4, exp2m1(@as(f128, 0x9.3d273p-4)));
    try std.testing.expectEqual(0x7.e00137c8ba27655111252e3b6828p-4, exp2m1(@as(f128, 0x9.3d27303441adp-4)));
    // try std.testing.expectEqual(0x7.e00137c8ba26e0ecea8262c755e4p-4, exp2m1(@as(f128, 0x9.3d27303441ac8p-4)));
    // try std.testing.expectEqual(0x7.e00137c8ba26e2edee98199bb7a4p-4, exp2m1(@as(f128, 0x9.3d27303441ac81fp-4)));
    // try std.testing.expectEqual(0x7.9f8b08c74330d5593c2878f3ef0cp-4, exp2m1(@as(f128, 0x8.fe7fap-4)));
    // try std.testing.expectEqual(0x7.9f8af8676cd352a96d4d7a03520cp-4, exp2m1(@as(f128, 0x8.fe7f9p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc752fc327492264c85a4p-4, exp2m1(@as(f128, 0x8.fe7f91d947a2p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc7527933c1c8f9383df4p-4, exp2m1(@as(f128, 0x8.fe7f91d947a18p-4)));
    // try std.testing.expectEqual(0x7.9f8afa4bc752cae1d203a9f402d4p-4, exp2m1(@as(f128, 0x8.fe7f91d947a1cfdp-4)));
    try std.testing.expectEqual(0x7.b3a12ca1e0333dfa0d1166a048cp-4, exp2m1(@as(f128, 0x9.1217ep-4)));
    try std.testing.expectEqual(0x7.b3a11c341d933890914aa5f4fe2p-4, exp2m1(@as(f128, 0x9.1217dp-4)));
    try std.testing.expectEqual(0x7.b3a11d5c60bd79fbddf335019f88p-4, exp2m1(@as(f128, 0x9.1217d12087d78p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bcf68dc91a2bb9daep-4, exp2m1(@as(f128, 0x9.1217d12087d7p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd649d17cf6adf53fcp-4, exp2m1(@as(f128, 0x9.1217d12087d76b3p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd648caa0ccfbe2b04p-4, exp2m1(@as(f128, 0x9.1217d12087d76b2p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd6499a40644bc6388p-4, exp2m1(@as(f128, 0x9.1217d12087d76b2ca347683e4b5p-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd6499a40644bc643cp-4, exp2m1(@as(f128, 0x9.1217d12087d76b2ca347683e4cp-4)));
    // try std.testing.expectEqual(0x7.b3a11d5c60bd6499a40644bc6024p-4, exp2m1(@as(f128, 0x9.1217d12087d76b2ca347683e48p-4)));
    // try std.testing.expectEqual(0x7.20519dbc87ff4b1d68fc5fab89ecp-4, exp2m1(@as(f128, 0x8.80db5p-4)));
    // try std.testing.expectEqual(0x7.20518db4e10827450e628bf86964p-4, exp2m1(@as(f128, 0x8.80db4p-4)));
    try std.testing.expectEqual(0x7.205196e3a3792200f7c9c53af1ep-4, exp2m1(@as(f128, 0x8.80db492a6043p-4)));
    try std.testing.expectEqual(0x7.205196e3a378a1c3c00a2cd488b8p-4, exp2m1(@as(f128, 0x8.80db492a60428p-4)));
    // try std.testing.expectEqual(0x7.205196e3a378b9bf32d72174af6cp-4, exp2m1(@as(f128, 0x8.80db492a604297fp-4)));
    try std.testing.expectEqual(0x7.205196e3a378b9af2b302981a2ap-4, exp2m1(@as(f128, 0x8.80db492a604297ep-4)));
    // try std.testing.expectEqual(0x7.205196e3a378b9b0cf7a36d2e85cp-4, exp2m1(@as(f128, 0x8.80db492a604297e1a3816aeec568p-4)));
    // try std.testing.expectEqual(0x7.205196e3a378b9b0cf7a36d2eaf4p-4, exp2m1(@as(f128, 0x8.80db492a604297e1a3816aeec8p-4)));
    // try std.testing.expectEqual(0x7.205196e3a378b9b0cf7a36d2e6f4p-4, exp2m1(@as(f128, 0x8.80db492a604297e1a3816aeec4p-4)));
    try std.testing.expectEqual(0x7.26a872486f447e078a3ee325eafp-4, exp2m1(@as(f128, 0x8.872e4p-4)));
    try std.testing.expectEqual(0x7.26a8623c63712463c2eefe5a36f8p-4, exp2m1(@as(f128, 0x8.872e3p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c810bf7b30b834f3cp-4, exp2m1(@as(f128, 0x8.872e307510a88p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c00ab99423142fae8p-4, exp2m1(@as(f128, 0x8.872e307510a8p-4)));
    try std.testing.expectEqual(0x7.26a862b1cc3c0f166bdd5dc5b44p-4, exp2m1(@as(f128, 0x8.872e307510a80e6p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c0f065fd18faa6c34p-4, exp2m1(@as(f128, 0x8.872e307510a80e5p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c0f0676480fe78dfcp-4, exp2m1(@as(f128, 0x8.872e307510a80e501665a37c218p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c0f0676480fe7907cp-4, exp2m1(@as(f128, 0x8.872e307510a80e501665a37c24p-4)));
    // try std.testing.expectEqual(0x7.26a862b1cc3c0f0676480fe78c7cp-4, exp2m1(@as(f128, 0x8.872e307510a80e501665a37c2p-4)));
    try std.testing.expectEqual(0x7.b2392197a9c47d03c426172aa2dp-4, exp2m1(@as(f128, 0x9.10b93p-4)));
    try std.testing.expectEqual(0x7.b239112ae0b48ff380e96789ee3p-4, exp2m1(@as(f128, 0x9.10b92p-4)));
    try std.testing.expectEqual(0x7.b239166cbf6ecff5787297250098p-4, exp2m1(@as(f128, 0x9.10b9251f0ccap-4)));
    try std.testing.expectEqual(0x7.b239166cbf6e4c8f300391b05008p-4, exp2m1(@as(f128, 0x9.10b9251f0cc98p-4)));
    try std.testing.expectEqual(0x7.b239166cbf6e8c0374be2eb2c97p-4, exp2m1(@as(f128, 0x9.10b9251f0cc9bddp-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6e8bf307f520d21adcp-4, exp2m1(@as(f128, 0x9.10b9251f0cc9bdcp-4)));
    try std.testing.expectEqual(0x7.b239166cbf6e8bfb5c8c5ad052cp-4, exp2m1(@as(f128, 0x9.10b9251f0cc9bdc81d6ab13bb74p-4)));
    // try std.testing.expectEqual(0x7.b239166cbf6e8bfb5c8c5ad05384p-4, exp2m1(@as(f128, 0x9.10b9251f0cc9bdc81d6ab13bb8p-4)));
    try std.testing.expectEqual(0x7.b239166cbf6e8bfb5c8c5ad04f68p-4, exp2m1(@as(f128, 0x9.10b9251f0cc9bdc81d6ab13bb4p-4)));
}
